{"version":3,"sources":["webpack:///./node_modules/gatsby-plugin-just-comments/index.js","webpack:///./src/components/mail-layout.js","webpack:///./src/templates/mail-post.js"],"names":["React","require","WIDGET_URL","JustComments","args","ref","createRef","render","createElement","Object","assign","className","this","props","div","current","getProps","keys","reduce","key","toLowerCase","shouldComponentUpdate","nextProps","nextState","some","k","componentDidMount","s","document","src","appendChild","componentDidUpdate","innerHTML","dataset","rendered","window","location","hash","style","getElementById","parentNode","removeChild","Component","module","exports","Body","styled","Layout","children","title","display","flexWrap","Date","getFullYear","href","MailPostTemplate","post","data","markdownRemark","siteTitle","site","siteMetadata","console","log","web","String","replace","nav","pageQuery"],"mappings":"gIAAA,IAAMA,EAAQC,EAAQ,QAEhBC,EAAa,kCAEbC,E,iCACJ,aAAqB,IAAC,IAAD,qBAANC,EAAM,yBAANA,EAAM,uBACnB,+BAASA,KAAT,MACKC,IAAML,EAAMM,UAAYN,EAAMM,YAAc,KAF9B,E,kHAKrBC,OAAA,WAAU,IAAD,OACP,OAAOP,EAAMQ,cACX,MACAC,OAAOC,OACL,CACEC,UAAWC,KAAKC,MAAMF,WAAa,gBACnCN,IAAKL,EAAMM,UACPM,KAAKP,IACL,SAACS,GACC,EAAKT,IAAM,CAAEU,QAASD,KAG9BF,KAAKI,c,EAKXA,SAAA,WAAY,IAAD,OAMT,OALaP,OAAOQ,KAAKL,KAAKC,OACXK,QAAO,SAACL,EAAOM,GAEhC,OADAN,EAAM,QAAQM,EAAIC,eAAmB,EAAKP,MAAMM,GACzCN,IACN,K,EAILQ,sBAAA,SAAsBC,EAAWC,GAAY,IAAD,OAG1C,OAFad,OAAOQ,KAAKK,GAEbE,MAAK,SAACC,GAAD,OAAOH,EAAUG,KAAO,EAAKZ,MAAMY,O,EAGtDC,kBAAA,WACE,IAAMC,EAAIC,SAASpB,cAAc,UACjCmB,EAAEE,IAAM3B,EAERU,KAAKP,IAAIU,QAAQe,YAAYH,I,EAG/BI,mBAAA,WACE,IAAMJ,EAAIC,SAASpB,cAAc,UACjCmB,EAAEE,IAAM3B,EAERU,KAAKP,IAAIU,QAAQiB,UAAY,UACtBpB,KAAKP,IAAIU,QAAQkB,QAAQC,SAChCC,OAAOC,SAASC,KAAO,GACvB,IAAMC,EAAQV,SAASW,eAAe,WAClCD,GAAOA,EAAME,WAAWC,YAAYH,GACxC1B,KAAKP,IAAIU,QAAQe,YAAYH,I,GAtDN3B,EAAM0C,WA0DjCC,EAAOC,QAAUzC,G,wHCzDjB,IAAM0C,EAAOC,UAAOhC,IAAV,oEAAGgC,CAAH,+tBAwCKC,E,gLAjBbxC,OAAA,WAAU,IAAD,EAC+BK,KAAKC,MAAlBmC,GADlB,EACCZ,SADD,EACWa,MADX,EACkBD,UAGzB,OACE,kBAACH,EAAD,KACE,0BAAMP,MAAO,CAAEY,QAAQ,OAASC,SAAS,SAAYH,GACrD,sCACK,IAAII,MAAOC,cADhB,IACgC,IAC9B,uBAAGC,KAAK,4BAAR,gBAFF,OAE0D,IACxD,uBAAGA,KAAK,iCAAR,yB,GAXWtD,IAAM0C,W,0FCfrBa,E,gLACJhD,OAAA,WACE,IAAMiD,EAAO5C,KAAKC,MAAM4C,KAAKC,eACvBC,EAAY/C,KAAKC,MAAM4C,KAAKG,KAAKC,aAAaZ,MACpDa,QAAQC,IAAInD,KAAKC,MAAMuB,UACvB,IAAM4B,EAAMC,OAAOrD,KAAKC,MAAMuB,SAASkB,MAAMY,QAAQ,QAAS,IAE9D,OACE,kBAAC,EAAD,CAAY9B,SAAUxB,KAAKC,MAAMuB,SAAUa,MAAOU,GAChD,uBAAGL,KAAMU,GAAT,mBACA,kBAAC,WAAD,CAAUR,KAAMA,EAAMW,KAAK,M,GAVJnE,IAAM0C,WAkBxB0B,GAFEb,YAEO","file":"component---src-templates-mail-post-js-1c8b71eb5e74e3dcf1e9.js","sourcesContent":["const React = require('react');\n\nconst WIDGET_URL = 'https://just-comments.com/w2.js';\n\nclass JustComments extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.ref = React.createRef ? React.createRef() : null;\n  }\n\n  render() {\n    return React.createElement(\n      'div',\n      Object.assign(\n        {\n          className: this.props.className || 'just-comments',\n          ref: React.createRef\n            ? this.ref\n            : (div) => {\n                this.ref = { current: div };\n              }\n        },\n        this.getProps()\n      )\n    );\n  }\n\n  getProps() {\n    const keys = Object.keys(this.props);\n    const props = keys.reduce((props, key) => {\n      props[`data-${key.toLowerCase()}`] = this.props[key];\n      return props;\n    }, {});\n    return props;\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const keys = Object.keys(nextProps);\n\n    return keys.some((k) => nextProps[k] !== this.props[k]);\n  }\n\n  componentDidMount() {\n    const s = document.createElement('script');\n    s.src = WIDGET_URL;\n    // s.setAttribute('data-timestamp', +new Date());\n    this.ref.current.appendChild(s);\n  }\n\n  componentDidUpdate() {\n    const s = document.createElement('script');\n    s.src = WIDGET_URL;\n    // s.setAttribute('data-timestamp', +new Date());\n    this.ref.current.innerHTML = '';\n    delete this.ref.current.dataset.rendered;\n    window.location.hash = '';\n    const style = document.getElementById('jcStyle');\n    if (style) style.parentNode.removeChild(style);\n    this.ref.current.appendChild(s);\n  }\n}\n\nmodule.exports = JustComments;\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { Link } from \"gatsby\"\nimport { rhythm, scale } from \"../utils/typography\"\n\nconst Body = styled.div`\n@font-face {\n    font-family: 'apercu-regular';\n    src: url('/static/fonts/apercu-regular.eot');\n    src: url('/static/fonts/apercu-regular.eot?#iefix') format('embedded-opentype'),\n         url('/static/fonts/apercu-regular.woff2') format('woff2'),\n         url('/static/fonts/apercu-regular.woff') format('woff'),\n         url('/static/fonts/apercu-regular.ttf') format('truetype');\n    font-weight: normal;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'apercu-bold';\n    src: url('/static/fonts/apercu-bold.eot');\n    src: url('/static/fonts/apercu-bold.eot?#iefix') format('embedded-opentype'),\n         url('/static/fonts/apercu-bold.woff2') format('woff2'),\n         url('/static/fonts/apercu-bold.woff') format('woff'),\n         url('/static/fonts/apercu-bold.ttf') format('truetype');\n    font-weight: normal;\n    font-style: normal;\n`\n\nclass Layout extends React.Component {\n  render() {\n    const { location, title, children } = this.props\n    const rootPath = `${__PATH_PREFIX__}/`\n\n    return (\n      <Body>\n        <main style={{ display: `flex`, flexWrap: `wrap` }}>{children}</main>\n        <footer>\n          Â© {new Date().getFullYear()},{\" \"}\n          <a href=\"https://www.andrewlb.com\">andrewlb.com</a> and{\" \"}\n          <a href=\"https://www.stupidsystems.com\">Stupid Systems LLC</a>\n        </footer>\n      </Body>\n    )\n  }\n}\n\nexport default Layout\n","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport styled from \"styled-components\"\n\nimport Bio from \"../components/bio\"\nimport MailLayout from \"../components/mail-layout\"\nimport SEO from \"../components/seo\"\nimport JustComments from \"gatsby-plugin-just-comments\"\nimport { rhythm, scale } from \"../utils/typography\"\nimport AnchorLink from \"react-anchor-link-smooth-scroll\"\nimport { BlogPost, Nav, Minutes, Article } from \"./blog-post\"\n\nclass MailPostTemplate extends React.Component {\n  render() {\n    const post = this.props.data.markdownRemark\n    const siteTitle = this.props.data.site.siteMetadata.title\n    console.log(this.props.location)\n    const web = String(this.props.location.href).replace(\"/mail\", \"\")\n\n    return (\n      <MailLayout location={this.props.location} title={siteTitle}>\n        <a href={web}>View on the Web</a>\n        <BlogPost post={post} nav={false} />\n      </MailLayout>\n    )\n  }\n}\n\nexport default MailPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlugForMail($slug: String!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      fields {\n        slug\n        readingTime {\n          minutes\n          words\n        }\n      }\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        description\n        tags\n        category\n      }\n    }\n  }\n`\n"],"sourceRoot":""}